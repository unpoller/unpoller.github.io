<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-install/configuration" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.2">
<title data-rh="true">Application Configuration | Unpoller - UniFi Poller</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:url" content="https://unpoller.com/docs/install/configuration"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Application Configuration | Unpoller - UniFi Poller"><meta data-rh="true" name="description" content="Overview"><meta data-rh="true" property="og:description" content="Overview"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://unpoller.com/docs/install/configuration"><link data-rh="true" rel="alternate" href="https://unpoller.com/docs/install/configuration" hreflang="en"><link data-rh="true" rel="alternate" href="https://unpoller.com/docs/install/configuration" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Application Configuration","item":"https://unpoller.com/docs/install/configuration"}]}</script><link rel="stylesheet" href="/assets/css/styles.ff435d9c.css">
<script src="/assets/js/runtime~main.1a95e2de.js" defer="defer"></script>
<script src="/assets/js/main.e97ba6a0.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><link rel="preload" as="image" href="/img/logo.png"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/logo.png" alt="UniFi Poller" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/logo.png" alt="UniFi Poller" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/poller/introduction">Documentation</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/facebook/docusaurus" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Docusaurus<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/poller/introduction"><span title="Poller" class="categoryLinkLabel_W154">Poller</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret menu__link--active" role="button" aria-expanded="true" href="/docs/install/gettingstarted"><span title="Installation" class="categoryLinkLabel_W154">Installation</span></a></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/gettingstarted"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/installmethod"><span title="Install Method" class="linkLabel_WmDU">Install Method</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/controllerlogin"><span title="Unifi Controller Login" class="linkLabel_WmDU">Unifi Controller Login</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/dockercompose"><span title="Docker Compose" class="linkLabel_WmDU">Docker Compose</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/docker"><span title="Docker" class="linkLabel_WmDU">Docker</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/kubernetes"><span title="Kubernetes" class="linkLabel_WmDU">Kubernetes</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/freebsd"><span title="FreeBSD" class="linkLabel_WmDU">FreeBSD</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/macos"><span title="MacOS" class="linkLabel_WmDU">MacOS</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/linux"><span title="Linux" class="linkLabel_WmDU">Linux</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/windows"><span title="Windows" class="linkLabel_WmDU">Windows</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/cloudkey"><span title="CloudKey" class="linkLabel_WmDU">CloudKey</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/synology"><span title="Synology" class="linkLabel_WmDU">Synology</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/install/configuration"><span title="Application Configuration" class="linkLabel_WmDU">Application Configuration</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/install/grafana"><span title="Setup Grafana" class="linkLabel_WmDU">Setup Grafana</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/dependencies/grafana"><span title="Dependencies" class="categoryLinkLabel_W154">Dependencies</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/advanced/webserver"><span title="Advanced" class="categoryLinkLabel_W154">Advanced</span></a></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--sublist-caret" role="button" aria-expanded="false" href="/docs/help/common"><span title="Help" class="categoryLinkLabel_W154">Help</span></a></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><span class="breadcrumbs__link">Installation</span></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Application Configuration</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>Application Configuration</h1></header><h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="overview">Overview<a href="#overview" class="hash-link" aria-label="Direct link to Overview" title="Direct link to Overview" translate="no">​</a></h2>
<p>This page describes the two methods for configuring UniFi Poller.
It also describes most of the common configuration values and the
environment variable alternative.</p>
<p>UniFi Poller can be configured for use in two ways:</p>
<ul>
<li class="">Using environment variables (often used in Docker).</li>
<li class="">With a configuration file.</li>
<li class="">Both may be used simultaneously; env variables win in case of duplicate settings.</li>
</ul>
<p>Which to use is a matter of personal choice. Environment variables have the advantage
that all settings (referring to Docker) are in one place. The config file method has
the advantage that UniFi Poller specific settings can be saved in the same shared
Docker folder as other app&#x27;s data. <strong>Normally native installs use a
configuration file and Docker installations use environment variables.</strong></p>
<p>An example is included in the Unpoller install folder <code>up.xxxx.example</code>. You can edit the file in a text editor and then rename it removing <code>.example</code>. To create a valid file.</p>
<p>The variables to be set can be split into three categories:</p>
<ol>
<li class="">Configuration of UniFi Poller itself.</li>
<li class="">Configuration of the UniFi controller.<!-- -->
<ul>
<li class="">Multiple controllers are permitted for different sites.</li>
</ul>
</li>
<li class="">Configuration of the output databases (plugins).<!-- -->
<ul>
<li class="">UniFi Poller may output to both InfluxDB and Prometheus simultaneously.</li>
<li class="">Other outputs plugins can be created, but none exist currently.</li>
</ul>
</li>
</ol>
<p>More documentation on the configuration options is included in the
<a href="https://github.com/unpoller/unpoller/blob/master/examples/up.conf.example" target="_blank" rel="noopener noreferrer" class="">example configuration file</a>
in the main Github repo. You can copy it to make your own <code>up.conf</code> file.</p>
<p>The following sections break down the various configuration options available
for the three main categories mentioned previously.</p>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="poller">Poller<a href="#poller" class="hash-link" aria-label="Direct link to Poller" title="Direct link to Poller" translate="no">​</a></h2>
<p>The poller section begins with the <code>[poller]</code> header and has the parameters below.
These control overall behavior of the application.</p>
<table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_POLLER_DEBUG</td><td>debug</td><td><code>false</code> turns on debug messages</td></tr><tr><td>UP_POLLER_QUIET</td><td>quiet</td><td><code>false</code> turns off timer messages</td></tr><tr><td>UP_POLLER_PLUGINS_0</td><td>plugins</td><td>file list - <code>empty</code>; advanced! plugin file, use _1, _2, etc to add more</td></tr></tbody></table>
<p>Example:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">quiet = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">debug = false</span><br></span></code></pre></div></div>
<p>Docker Example:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run -e &quot;UP_POLLER_DEBUG=true&quot; -e &quot;UP_POLLER_QUIET=false&quot; golift/unpoller</span><br></span></code></pre></div></div>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="unifi-controller">UniFi Controller<a href="#unifi-controller" class="hash-link" aria-label="Direct link to UniFi Controller" title="Direct link to UniFi Controller" translate="no">​</a></h2>
<p>The unifi section begins with the <code>[unifi]</code> header and has the following parameters:</p>
<table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_UNIFI_DISABLE</td><td>disable</td><td><code>false</code>  turns off this input. don&#x27;t do that!</td></tr><tr><td>UP_UNIFI_DYNAMIC</td><td>dynamic</td><td><code>false</code>  enables dynamic lookups (from prometheus)</td></tr><tr><td>UP_UNIFI_DEFAULT_ROLE</td><td>unifi.defaults.role</td><td><code>URL</code> allows grouping controllers</td></tr><tr><td>UP_UNIFI_DEFAULT_URL</td><td>unifi.defaults.url</td><td><code>&quot;https://127.0.0.1:8443&quot;</code> only applies if no controllers are defined (next section)</td></tr><tr><td>UP_UNIFI_DEFAULT_USER</td><td>unifi.defaults.user</td><td><code>&quot;unifipoller&quot;</code> default applies to any controller without a username</td></tr><tr><td>UP_UNIFI_DEFAULT_PASS</td><td>unifi.defaults.pass</td><td><code>&quot;&quot;</code> default applies to any controller without a password</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_SITES</td><td>unifi.defaults.save_sites</td><td><code>true</code></td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_IDS</td><td>unifi.defaults.save_ids</td><td><code>false</code> Only works with InfluxDB / Loki</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_EVENTS</td><td>unifi.defaults.save_events</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_ALARMS</td><td>unifi.defaults.save_alarms</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_ANOMALIES</td><td>unifi.defaults.save_anomalies</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_DEFAULT_SAVE_DPI</td><td>unifi.defaults.save_dpi</td><td><code>false</code></td></tr><tr><td>UP_UNIFI_DEFAULT_VERIFY_SSL</td><td>unifi.defaults.verify_ssl</td><td><code>false</code></td></tr><tr><td>UP_UNIFI_DEFAULT_SITE_0</td><td>unifi.defaults.site.0</td><td><code>[&quot;all&quot;]</code> specify more sites with _1, _2, etc.</td></tr></tbody></table>
<hr>
<div class="theme-admonition theme-admonition-important admonition_xJq3 alert alert--info"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"></path></svg></span>important</div><div class="admonitionContent_BuS1"><p>When configuring make sure that you do <strong>not</strong> include <code>:8443</code> on the url of the controller
if you are using <code>unifios</code>. Those are: UDM Pro, UDM, UXG, or CloudKey with recent firmware.</p></div></div>
<p>Most <code>unifi</code> configuration will look like this:</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[unifi]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  url = &quot;http://192.168.2.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  user = &quot;unifipoller&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  pass = &quot;unifip4assw0rd&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  save_sites = true</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  save_ids = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  save_events = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  save_alarms = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  save_dpi = false</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  sites = [ &quot;default&quot; ]</span><br></span></code></pre></div></div>
<p>Same example, but for Docker:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_URL=http://127.0.0.1:8086&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_PASS=unifip4assw0rd&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_SAVE_SITES=true&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_SITE_0=default&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  golift/unpoller</span><br></span></code></pre></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="multiple-controllers">Multiple Controllers<a href="#multiple-controllers" class="hash-link" aria-label="Direct link to Multiple Controllers" title="Direct link to Multiple Controllers" translate="no">​</a></h3>
<p>You can configure a single controller by setting the <code>UP_UNIFI_DEFAULT</code> variables above,
but you can also configure a single, or multiple controllers by setting the variables below.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>If you only have one controller, use the <code>default</code> variables described above.</p><p><strong>Do not use the variables described below, if you only have 1 controller.</strong></p></div></div>
<p>You may repeat the <code>[[unifi.controller]]</code> section as many times as you want to add more controllers.
If you&#x27;re configuring controllers using env variables, start at <code>_0</code> and change <code>_0</code> to <code>_1</code>
to add a second, then <code>_2</code> and so on.</p>
<p>Like any configured list, you may configure controllers with a file or env vars, or both.</p>
<table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_UNIFI_CONTROLLER_0_ROLE</td><td>unifi.controller.role</td><td><code>URL</code> allows grouping controllers, default applies to any controller without a role</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_URL</td><td>unifi.controller.url</td><td><code>&quot;https://127.0.0.1:8443&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_USER</td><td>unifi.controller.user</td><td><code>&quot;unifipoller&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_PASS</td><td>unifi.controller.pass</td><td><code>&quot;&quot;</code></td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_SITES</td><td>unifi.controller.save_sites</td><td><code>true</code> Powers Network Sites dashboard</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_IDS</td><td>unifi.controller.save_ids</td><td><code>false</code> Only works with InfluxDB / Loki</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_EVENTS</td><td>unifi.controller.save_events</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_ALARMS</td><td>unifi.controller.save_alarms</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_ANOMALIES</td><td>unifi.controller.save_anomalies</td><td><code>false</code> Only works with InfluxDB / Loki, added in v2.0.2</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SAVE_DPI</td><td>unifi.controller.save_dpi</td><td><code>false</code> Powers DPI dashboard</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_VERIFY_SSL</td><td>unifi.controller.verify_ssl</td><td><code>false</code> Verify controller SSL certificate</td></tr><tr><td>UP_UNIFI_CONTROLLER_0_SITE_0</td><td>unifi.controller.site.0</td><td><code>[&quot;all&quot;]</code> specify more sites with _1, _2, etc</td></tr></tbody></table>
<h2 class="anchor anchorTargetStickyNavbar_Vzrq" id="output-plugins">Output Plugins<a href="#output-plugins" class="hash-link" aria-label="Direct link to Output Plugins" title="Direct link to Output Plugins" translate="no">​</a></h2>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="prometheus">Prometheus<a href="#prometheus" class="hash-link" aria-label="Direct link to Prometheus" title="Direct link to Prometheus" translate="no">​</a></h3>
<p>This section begins with <code>[prometheus]</code> and configures an HTTP listener where a scrape
daemon, such as Prometheus or InfluxDB 2.0 may obtain metrics. See the
<a class="" href="/docs/dependencies/prometheus">Prometheus</a> page for Prometheus configuration instructions.</p>
<p>While Prometheus provides some configuration parameters, you shouldn&#x27;t change them.
If you don&#x27;t use Prometheus, set <code>disable</code> to <code>true</code>.</p>
<table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_PROMETHEUS_DISABLE</td><td>prometheus.disable</td><td><code>false</code></td></tr><tr><td>UP_PROMETHEUS_NAMESPACE</td><td>prometheus.namespace</td><td><code>unifipoller</code></td></tr><tr><td>UP_PROMETHEUS_HTTP_LISTEN</td><td>prometheus.http_listen</td><td><code>0.0.0.0:9130</code></td></tr><tr><td>UP_PROMETHEUS_REPORT_ERRORS</td><td>prometheus.report_errors</td><td><code>false</code></td></tr><tr><td>UP_PROMETHEUS_BUFFER</td><td>prometheus.buffer</td><td><code>50</code></td></tr></tbody></table>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>The <a class="" href="/docs/dependencies/prometheus">Prometheus</a> page has a full explanation of how to configure Poller.</p></div></div>
<h3 class="anchor anchorTargetStickyNavbar_Vzrq" id="influxdb">InfluxDB<a href="#influxdb" class="hash-link" aria-label="Direct link to InfluxDB" title="Direct link to InfluxDB" translate="no">​</a></h3>
<p>This section begins with <code>[influxdb]</code> and configures a single InfluxDB write destination.</p>
<table><thead><tr><th><strong>ENV</strong></th><th><strong>config</strong></th><th><strong>default and explanation</strong></th></tr></thead><tbody><tr><td>UP_INFLUXDB_DISABLE</td><td>influxdb.disable</td><td><code>false</code></td></tr><tr><td>UP_INFLUXDB_URL</td><td>influxdb.url</td><td><code>&quot;http://127.0.0.1:8086&quot;</code> influxdb URL</td></tr><tr><td>UP_INFLUXDB_DB</td><td>influxdb.db</td><td><code>&quot;unifi&quot;</code> name of database you created in influx</td></tr><tr><td>UP_INFLUXDB_USER</td><td>influxdb.user</td><td><code>&quot;unifipoller&quot;</code> username with access to database</td></tr><tr><td>UP_INFLUXDB_PASS</td><td>influxdb.pass</td><td><code>&quot;unifipoller&quot;</code> password for username</td></tr><tr><td>UP_INFLUXDB_INTERVAL</td><td>influxdb.interval</td><td><code>&quot;30s&quot;</code> how often to poll and collect metrics, ie &quot;1m&quot; or &quot;90s&quot;</td></tr></tbody></table>
<p>InfluxDB is very easy to use with UniFi Poller, and it&#x27;s recommend if this whole
metrics ecosystem is new to you. All you do is add a small configuration like you
see below and poller sends all your glorious data into the database.</p>
<div class="language-toml codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-toml codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">[influxdb]</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  url = &quot;http://127.0.0.1:8086&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  db = &quot;unifi&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  interval=&quot;60s&quot;</span><br></span></code></pre></div></div>
<p>Using Docker it may look like this:</p>
<div class="language-shell codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-shell codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">docker run</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_INFLUXDB_URL=http://127.0.0.1:8086&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_INFLUXDB_DB=unifi&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_INFLUXDB_INTERVAL=60s&quot; \</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_URL=https://192.168.1.2&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  -e &quot;UP_UNIFI_DEFAULT_PASS=unifipassw0rd&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  golift/unpoller</span><br></span></code></pre></div></div></div></article><nav class="docusaurus-mt-lg pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/install/synology"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Synology</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/install/grafana"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Setup Grafana</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#overview" class="table-of-contents__link toc-highlight">Overview</a></li><li><a href="#poller" class="table-of-contents__link toc-highlight">Poller</a></li><li><a href="#unifi-controller" class="table-of-contents__link toc-highlight">UniFi Controller</a><ul><li><a href="#multiple-controllers" class="table-of-contents__link toc-highlight">Multiple Controllers</a></li></ul></li><li><a href="#output-plugins" class="table-of-contents__link toc-highlight">Output Plugins</a><ul><li><a href="#prometheus" class="table-of-contents__link toc-highlight">Prometheus</a></li><li><a href="#influxdb" class="table-of-contents__link toc-highlight">InfluxDB</a></li></ul></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Support</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://golift.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Lift Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://golift.io/unpoller/issues/new" target="_blank" rel="noopener noreferrer" class="footer__link-item">Send Feedback<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://community.ui.com/questions/Unifi-Poller-Store-Unifi-Controller-Metrics-in-InfluxDB-without-SNMP/58a0ea34-d2b3-41cd-93bb-d95d3896d1a1" target="_blank" rel="noopener noreferrer" class="footer__link-item">Ubiquiti Forums<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://golift.io/discord" target="_blank" rel="noopener noreferrer" class="footer__link-item">Go Lift Discord<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Downloads</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://packagecloud.io/golift" target="_blank" rel="noopener noreferrer" class="footer__link-item">Packagecloud<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://github.com/unpoller/unpoller/releases/latest" target="_blank" rel="noopener noreferrer" class="footer__link-item">Latest Release<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Information</div><ul class="footer__items clean-list"><li class="footer__item"><a href="mailto:code@golift.io" target="_blank" rel="noopener noreferrer" class="footer__link-item">Contact Us<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a class="footer__link-item" href="/docs/poller/license">Software License</a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright"><div class="row"><div class="col footer__col">
      <a href="https://github.com/unpoller/unpoller/pkgs/container/unpoller">&#9733; THIS PROJECT ON GHCR.IO</a>
      </div><div class="col footer__col" style="text-align:left;">
      Copyright © 2018-2026 Go Lift
      </div><div class="col footer__col"><a href="https://golift.io"><img src="https://docs.golift.io/integrations/golift.png"></a></div></div></div></div></div></footer></div>
</body>
</html>