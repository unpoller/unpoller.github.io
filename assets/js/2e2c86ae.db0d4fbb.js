"use strict";(self.webpackChunkpollerdox=self.webpackChunkpollerdox||[]).push([[437],{8453:(e,n,s)=>{s.d(n,{R:()=>i,x:()=>l});var a=s(6540);const r={},t=a.createContext(r);function i(e){const n=a.useContext(t);return a.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(r):e.components||r:i(e.components),a.createElement(t.Provider,{value:n},e.children)}},9853:(e,n,s)=>{s.r(n),s.d(n,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>i,metadata:()=>a,toc:()=>o});const a=JSON.parse('{"id":"advanced/webserver","title":"Webserver","description":"Poller has a built-in and disabled by default web server.","source":"@site/docs/advanced/webserver.md","sourceDirName":"advanced","slug":"/advanced/webserver","permalink":"/docs/advanced/webserver","draft":false,"unlisted":false,"tags":[],"version":"current","frontMatter":{"id":"webserver","title":"Webserver"},"sidebar":"someSidebar","previous":{"title":"InfluxDB","permalink":"/docs/dependencies/influxdb"},"next":{"title":"API","permalink":"/docs/advanced/api"}}');var r=s(4848),t=s(8453);const i={id:"webserver",title:"Webserver"},l=void 0,d={},o=[{value:"Usage",id:"usage",level:2},{value:"Authentication",id:"authentication",level:2},{value:"Making a Password Hash",id:"making-a-password-hash",level:3},{value:"Advanced",id:"advanced",level:2}];function c(e){const n={a:"a",admonition:"admonition",code:"code",h2:"h2",h3:"h3",p:"p",pre:"pre",strong:"strong",...(0,t.R)(),...e.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.p,{children:["Poller has a built-in and ",(0,r.jsx)(n.strong,{children:"disabled by default"})," web server.\nThe web server provides some very basic information about your UniFi environment, devices and clients.\nAt the time of this writing it is ",(0,r.jsx)(n.a,{href:"./api",children:"only an API"}),", but a simple human interface (read-only) is planned."]}),"\n",(0,r.jsx)(n.admonition,{type:"note",children:(0,r.jsx)(n.p,{children:"The web server was added in UniFi Poller v2.0.2."})}),"\n",(0,r.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,r.jsx)(n.p,{children:"You must enable the web server if you wish to use it.\nTo enable the web server without authentication this is all you need to do:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:"[webserver]\n  enable = true\n"})}),"\n",(0,r.jsx)(n.p,{children:"or, with an environment variable:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"UP_WEBSERVER_ENABLE=true\n"})}),"\n",(0,r.jsx)(n.h2,{id:"authentication",children:"Authentication"}),"\n",(0,r.jsxs)(n.p,{children:["By default there is no authentication.\nTo enable authentication, add a username and password. Like this (",(0,r.jsx)(n.code,{children:"captain"})," is the username):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'[webserver.accounts]\n  username = "password hash goes here"\n  captain = "$2a$04$a2XvB0gvTXW6d4rHUXQdduUDBrQB3/2lGTxZXQ32Sd9hYDxrz.oHm"\n'})}),"\n",(0,r.jsxs)(n.p,{children:["Using an env variable (",(0,r.jsx)(n.code,{children:"captain"})," is the username):"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:'UP_WEBSERVER_ACCOUNTS_captain="$2a$04$a2XvB0gvTXW6d4rHUXQdduUDBrQB3/2lGTxZXQ32Sd9hYDxrz.oHm"\n'})}),"\n",(0,r.jsx)(n.h3,{id:"making-a-password-hash",children:"Making a Password Hash"}),"\n",(0,r.jsxs)(n.p,{children:["Use ",(0,r.jsx)(n.code,{children:"unpoller"})," to make a web server account password hash. Like this:"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-console",children:"unpoller -e -\nEnter Password:\n$2a$04$a2XvB0gvTXW6d4rHUXQdduUDBrQB3/2lGTxZXQ32Sd9hYDxrz.oHm\n"})}),"\n",(0,r.jsx)(n.p,{children:"Using Docker:"}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-shell",children:"docker pull ghcr.io/unpoller/unpoller\ndocker -it ghcr.io/unpoller/unpoller -e -\nEnter Password:\n$2a$04$yOE5zjJs2Gg0jsGQpE7j2ucKiNndUGEzpX6BsLoKl0hkxBvE81z8.\n"})}),"\n",(0,r.jsx)(n.h2,{id:"advanced",children:"Advanced"}),"\n",(0,r.jsx)(n.p,{children:"These are the advanced settings and their default values."}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-toml",children:'  port          = 37288\n  html_path     = "/usr/lib/unpoller/web"\n  ssl_cert_path = ""\n  ssl_key_path  = ""\n  max_events    = 200\n'})}),"\n",(0,r.jsxs)(n.p,{children:["The default HTML path is installed by any package or the Official Golift Docker image.\nThis usually does not need to be changed. Exceptions are BSD and macOS systems.\nThe HTML path on these OSes is ",(0,r.jsx)(n.code,{children:"/usr/local/lib/unpoller/web"}),", and you need to set it."]}),"\n",(0,r.jsx)(n.p,{children:"An SSL listener may be enabled instead of standard HTTP by providing an SSL Cert File and Key File paths."}),"\n",(0,r.jsxs)(n.p,{children:["The ",(0,r.jsx)(n.code,{children:"max_events"})," setting controls memory usage. For small or home sites you can safely set this to 1000 or higher.\nThis setting dictates how many logs are kept in memory.\nThe setting is a global setting that applies to all log queues.\nThere are several log queues per plugin."]})]})}function h(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(c,{...e})}):c(e)}}}]);