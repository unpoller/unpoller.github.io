"use strict";(self.webpackChunkpollerdox=self.webpackChunkpollerdox||[]).push([[392],{5680:(e,o,t)=>{t.d(o,{xA:()=>d,yg:()=>m});var n=t(6540);function r(e,o,t){return o in e?Object.defineProperty(e,o,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[o]=t,e}function a(e,o){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);o&&(n=n.filter((function(o){return Object.getOwnPropertyDescriptor(e,o).enumerable}))),t.push.apply(t,n)}return t}function l(e){for(var o=1;o<arguments.length;o++){var t=null!=arguments[o]?arguments[o]:{};o%2?a(Object(t),!0).forEach((function(o){r(e,o,t[o])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(t)):a(Object(t)).forEach((function(o){Object.defineProperty(e,o,Object.getOwnPropertyDescriptor(t,o))}))}return e}function s(e,o){if(null==e)return{};var t,n,r=function(e,o){if(null==e)return{};var t,n,r={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||(r[t]=e[t]);return r}(e,o);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],o.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(r[t]=e[t])}return r}var i=n.createContext({}),u=function(e){var o=n.useContext(i),t=o;return e&&(t="function"==typeof e?e(o):l(l({},o),e)),t},d=function(e){var o=u(e.components);return n.createElement(i.Provider,{value:o},e.children)},p="mdxType",c={inlineCode:"code",wrapper:function(e){var o=e.children;return n.createElement(n.Fragment,{},o)}},h=n.forwardRef((function(e,o){var t=e.components,r=e.mdxType,a=e.originalType,i=e.parentName,d=s(e,["components","mdxType","originalType","parentName"]),p=u(t),h=r,m=p["".concat(i,".").concat(h)]||p[h]||c[h]||a;return t?n.createElement(m,l(l({ref:o},d),{},{components:t})):n.createElement(m,l({ref:o},d))}));function m(e,o){var t=arguments,r=o&&o.mdxType;if("string"==typeof e||r){var a=t.length,l=new Array(a);l[0]=h;var s={};for(var i in o)hasOwnProperty.call(o,i)&&(s[i]=o[i]);s.originalType=e,s[p]="string"==typeof e?e:r,l[1]=s;for(var u=2;u<a;u++)l[u]=t[u];return n.createElement.apply(null,l)}return n.createElement.apply(null,t)}h.displayName="MDXCreateElement"},6395:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>i,contentTitle:()=>l,default:()=>c,frontMatter:()=>a,metadata:()=>s,toc:()=>u});var n=t(8168),r=(t(6540),t(5680));const a={id:"common",title:"Common Solutions"},l=void 0,s={unversionedId:"help/common",id:"help/common",title:"Common Solutions",description:"Below are some common solutions and possible symptoms.",source:"@site/docs/help/common.md",sourceDirName:"help",slug:"/help/common",permalink:"/docs/help/common",draft:!1,tags:[],version:"current",frontMatter:{id:"common",title:"Common Solutions"},sidebar:"someSidebar",previous:{title:"API",permalink:"/docs/advanced/api"},next:{title:"Getting Help",permalink:"/docs/help/"}},i={},u=[{value:"Empty Dashboards",id:"empty-dashboards",level:3},{value:"Check the port used to connect to the controller",id:"check-the-port-used-to-connect-to-the-controller",level:3},{value:"Run Updated Components",id:"run-updated-components",level:3},{value:"Check Log Files",id:"check-log-files",level:3},{value:"Double-Check Data Source",id:"double-check-data-source",level:3},{value:"Double-Check Passwords",id:"double-check-passwords",level:3},{value:"Dashboard Variables",id:"dashboard-variables",level:3},{value:"InfluxDB Write Errors",id:"influxdb-write-errors",level:3}],d={toc:u},p="wrapper";function c(e){let{components:o,...t}=e;return(0,r.yg)(p,(0,n.A)({},d,t,{components:o,mdxType:"MDXLayout"}),(0,r.yg)("p",null,"Below are some common solutions and possible symptoms."),(0,r.yg)("h3",{id:"empty-dashboards"},"Empty Dashboards"),(0,r.yg)("p",null,"The number one cause of empty dashboards is an old version of InfluxDB.\nMake sure you are on version 1.7.x or 1.8.x. ",(0,r.yg)("strong",{parentName:"p"},"Use of 1.6.x will cause empty dashboards.")),(0,r.yg)("p",null,"If your DPI dashboards are empty ",(0,r.yg)("inlineCode",{parentName:"p"},"DPI")," is like still disabled.\nIt must be enabled in both the poller config and in your UniFi controller. Two spots."),(0,r.yg)("h3",{id:"check-the-port-used-to-connect-to-the-controller"},"Check the port used to connect to the controller"),(0,r.yg)("p",null,"It should be ",(0,r.yg)("inlineCode",{parentName:"p"},"8443")," if you are using a non-unifios interface (eg the original Cloudkey with\nold firmware) and ",(0,r.yg)("inlineCode",{parentName:"p"},"443")," (or just omitted) if you are using a unifios device (UDM-Pro, UDM, UXG, etc)"),(0,r.yg)("h3",{id:"run-updated-components"},"Run Updated Components"),(0,r.yg)("p",null,"Running out of date components may result in missing data, or errors from Grafana."),(0,r.yg)("p",null,"Make sure you're running up-to-date software. InfluxDB must be at least 1.7.x.\nVersion 1.7.9 is out and it works great. Grafana 6.5.2 also works great,\nand any version older than 6.4.x is going to give you problems.\nUniFi Poller should be at least version 1.6.3 if you are seeking help."),(0,r.yg)("h3",{id:"check-log-files"},"Check Log Files"),(0,r.yg)("p",null,"UniFi Poller has great logs that help when troubleshooting.\nIf you're seeking help please enable debug mode and copy/paste some of your logs.\nAll of this data helps figure out what's going on.\nDebug mode can be enable in up.conf or by passing the env variable UP_POLLER_DEBUG=true."),(0,r.yg)("p",null,"Grafana, Prometheus and InfluxDB also have logs files, but they're probably less useful.\nYou can still check them for errors."),(0,r.yg)("p",null,"If you are a Docker user then check out ",(0,r.yg)("a",{parentName:"p",href:"https://dozzle.dev/"},"Dozzle")),(0,r.yg)("h3",{id:"double-check-data-source"},"Double-Check Data Source"),(0,r.yg)("p",null,"Many users make typos in their data source. Sometimes on the URLs, sometimes on the passwords.\nThis will cause data to not show up and the dashboards may provide red error messages.\nMost data sources do not have paths; just ",(0,r.yg)("inlineCode",{parentName:"p"},"http://ip:port"),"."),(0,r.yg)("h3",{id:"double-check-passwords"},"Double-Check Passwords"),(0,r.yg)("p",null,"The default username used to be ",(0,r.yg)("inlineCode",{parentName:"p"},"influxdb"),", but has been changed to ",(0,r.yg)("inlineCode",{parentName:"p"},"unifipoller"),".\nKeep this in mind when setting things up. Can't tell you how many times someone had\nissues only to find a bad password. Check it, check it again; log in with it yourself.\nThe poller log should give you clues if this is the problem."),(0,r.yg)("h3",{id:"dashboard-variables"},"Dashboard Variables"),(0,r.yg)("p",null,'If your dashboards have some data, but it looks like most of it is missing,\nthis often indicates a problem with the variables, or the data source the variables are using.\nEdit the affected dashboards: go to Settings then to Variables, and click on the variables.\nMake sure they have the correct data source listed, and check for "preview of values" to\nmake sure things are showing up. Let me know if you see values when you make a report.'),(0,r.yg)("h3",{id:"influxdb-write-errors"},"InfluxDB Write Errors"),(0,r.yg)("p",null,"If you're getting errors like this:"),(0,r.yg)("pre",null,(0,r.yg)("code",{parentName:"pre",className:"language-none"},'[ERROR] infdb.Write(bp): {"error":"field type conflict"}\n[ERROR] infdb.Write(bp): {"error":"partial write: field type conflict: input field "tx_power" on measurement "uap_radios" is type integer, already exists as type float dropped="}\n')),(0,r.yg)("p",null,"This usually indicates a bug was fixed and the resulting fixed has caused an incompatibility\nwith your existing InfluxDB database. This could also indicate you've found a new bug.\nPlease open an issue if you are running the latest version and dropping the database\ndid not solve the error. There are generally two fixes:"),(0,r.yg)("ol",null,(0,r.yg)("li",{parentName:"ol"},"Downgrade. Do not upgrade to a new version."),(0,r.yg)("li",{parentName:"ol"},(0,r.yg)("inlineCode",{parentName:"li"},"DROP")," and re-",(0,r.yg)("inlineCode",{parentName:"li"},"CREATE")," the InfluxDB database.")))}c.isMDXComponent=!0}}]);